2025-04-07 06:12:26,124 - root - WARNING - No ANTHROPIC_API_KEY found in environment. API calls will fail.
2025-04-07 06:12:26,125 - root - INFO - === Configuration ===
2025-04-07 06:12:26,125 - root - INFO - ANTHROPIC_API_KEY: 
2025-04-07 06:12:26,125 - root - INFO - MODEL: claude-3-7-sonnet-20250219
2025-04-07 06:12:26,125 - root - INFO - MAX_RETRIES: 5
2025-04-07 06:12:26,125 - root - INFO - RETRY_DELAY: 2.0
2025-04-07 06:12:26,125 - root - INFO - API_TIMEOUT: 240
2025-04-07 06:12:26,125 - root - INFO - BATCH_TIMEOUT: 360
2025-04-07 06:12:26,126 - root - INFO - MAX_WORKERS: 5
2025-04-07 06:12:26,140 - root - INFO - DATA_DIR: 
2025-04-07 06:12:26,140 - root - INFO - LESSONS_FILE: lang_lessons.json
2025-04-07 06:12:26,140 - root - INFO - PASSAGES_FILE: lang_passages.json
2025-04-07 06:12:26,141 - root - INFO - EXAMPLES_FILE: lang_examples.json
2025-04-07 06:12:26,141 - root - INFO - QC_PROMPTS_FILE: lang-question-qc.json
2025-04-07 06:12:26,141 - root - INFO - LOG_FILE: quiz_generator.log
2025-04-07 06:12:26,141 - root - INFO - DIFFICULTY_LEVELS: {1: {'easy': (2, 5), 'medium': (2, 5), 'hard': (1, 2)}, 2: {'easy': (2, 3), 'medium': (2, 5), 'hard': (2, 4)}, 3: {'easy': (1, 2), 'medium': (2, 4), 'hard': (2, 6)}}
2025-04-07 06:12:26,141 - root - INFO - DIFFICULTY_MAP: {'easy': '1', 'medium': '2', 'hard': '3'}
2025-04-07 06:12:26,141 - root - INFO - get_config_dict: <classmethod(<function Config.get_config_dict at 0x00000233AA95B9C0>)>
2025-04-07 06:12:26,142 - root - INFO - log_config: <classmethod(<function Config.log_config at 0x00000233AA95BA60>)>
2025-04-07 06:12:26,142 - root - INFO - ====================
2025-04-07 06:12:26,332 - root - INFO - Anthropic client initialized successfully
2025-04-07 06:12:26,335 - root - WARNING - No API key provided. QC will attempt to use the API key from main module.
2025-04-07 06:12:26,335 - root - INFO - Loading quality control prompts from: lang-question-qc.json
2025-04-07 06:12:26,336 - root - INFO - Loaded quality control prompt: formatting
2025-04-07 06:12:26,336 - root - INFO - DEBUG - Prompt 'formatting' first 100 chars: You are an expert AP Language exam developer tasked with evaluating formatting consistency and reada...
2025-04-07 06:12:26,336 - root - INFO - Loaded quality control prompt: plausibility
2025-04-07 06:12:26,336 - root - INFO - DEBUG - Prompt 'plausibility' first 100 chars: You are an expert AP Language exam evaluator with extensive experience in analyzing multiple-choice ...
2025-04-07 06:12:26,337 - root - INFO - Loaded quality control prompt: single correct answer
2025-04-07 06:12:26,337 - root - INFO - DEBUG - Prompt 'single correct answer' first 100 chars: You are an expert AP Language exam developer with extensive experience in creating and evaluating mu...
2025-04-07 06:12:26,337 - root - INFO - Loaded quality control prompt: structure
2025-04-07 06:12:26,337 - root - INFO - DEBUG - Prompt 'structure' first 100 chars: You are an expert AP Language exam developer with extensive experience in creating and evaluating mu...
2025-04-07 06:12:26,337 - root - INFO - Loaded quality control prompt: depth
2025-04-07 06:12:26,337 - root - INFO - DEBUG - Prompt 'depth' first 100 chars: You are an expert AP Language exam developer specializing in question development and cognitive asse...
2025-04-07 06:12:26,338 - root - INFO - Loaded quality control prompt: precision
2025-04-07 06:12:26,338 - root - INFO - DEBUG - Prompt 'precision' first 100 chars: You are an expert AP Language exam developer specializing in question writing and clarity of express...
2025-04-07 06:12:26,343 - root - INFO - Loaded quality control prompt: textual evidence
2025-04-07 06:12:26,344 - root - INFO - DEBUG - Prompt 'textual evidence' first 100 chars: You are an expert AP Language exam developer specializing in question construction and evidence-base...
2025-04-07 06:12:26,345 - root - INFO - Successfully loaded 7 quality control prompts
2025-04-07 06:12:26,346 - root - INFO - Plausibility prompt loaded successfully, length: 2606
2025-04-07 06:12:26,346 - root - INFO - DEBUG - Found expected placeholder in plausibility prompt: json.dumps(input_json, indent=2)
2025-04-07 06:12:26,346 - root - WARNING - DEBUG - Missing expected placeholder in plausibility prompt: {passage}
2025-04-07 06:12:26,347 - root - WARNING - DEBUG - Missing expected placeholder in plausibility prompt: {question}
2025-04-07 06:12:26,347 - root - WARNING - DEBUG - Missing expected placeholder in plausibility prompt: {correct_answer}
2025-04-07 06:12:26,347 - root - WARNING - DEBUG - Missing expected placeholder in plausibility prompt: {distractor_to_check}
2025-04-07 06:12:26,347 - root - INFO - Loading data from JSON files...
2025-04-07 06:12:26,348 - root - INFO - Loaded 57 lessons from lang_lessons.json
2025-04-07 06:12:26,349 - root - INFO - Mapped 57 lessons to their standards
2025-04-07 06:12:26,349 - root - INFO - Mapped 83 standards to their lessons
2025-04-07 06:12:26,354 - root - INFO - Loaded 184 passages from lang_passages.json
2025-04-07 06:12:26,355 - root - INFO - Found 83 standards with at least one passage
2025-04-07 06:12:26,356 - root - INFO - Created 4756 passage-standard mappings
2025-04-07 06:12:26,394 - root - INFO - Loaded 1970 example questions from lang_examples.json
2025-04-07 06:12:26,395 - root - INFO - Data validation completed
2025-04-07 06:12:26,395 - root - INFO - Data loaded successfully
2025-04-07 06:12:26,396 - root - INFO - Generating quiz with: Lesson: Shifts in Tone, Difficulty: 2, Questions: 5
2025-04-07 06:12:26,396 - root - INFO - Generating quiz with: Lesson: Shifts in Tone, Difficulty: 2, Questions: 5
2025-04-07 06:12:26,397 - root - INFO - Found 1 standards for lesson: Shifts in Tone
2025-04-07 06:12:26,397 - root - INFO - Selected passage for standard: STL-1.F, type: Essay
2025-04-07 06:12:26,397 - root - INFO - Distributing 5 questions across standards and difficulty levels
2025-04-07 06:12:26,397 - root - INFO - Quiz difficulty: 2
2025-04-07 06:12:26,397 - root - INFO - Lesson standards: ['STL-1.F']
2025-04-07 06:12:26,397 - root - WARNING - Scaling down minimum question counts due to low total questions: 5
2025-04-07 06:12:26,397 - root - INFO - Easy range: min=1, max=3
2025-04-07 06:12:26,397 - root - INFO - Randomly selected easy count: 3
2025-04-07 06:12:26,398 - root - INFO - Medium range: min=1, max=1
2025-04-07 06:12:26,398 - root - INFO - Using medium_min directly: 1
2025-04-07 06:12:26,398 - root - INFO - Hard count (remainder): 1
2025-04-07 06:12:26,398 - root - INFO - Difficulty distribution: 3 easy, 1 medium, 1 hard
2025-04-07 06:12:26,398 - root - INFO - Assigned minimum of 3 questions per lesson standard
2025-04-07 06:12:26,398 - root - INFO - Prioritized standards count: 54
2025-04-07 06:12:26,398 - root - INFO - Prioritized standards count: 54
2025-04-07 06:12:26,398 - root - INFO - Final question distribution: {'STL-1.F': {'easy': 1, 'medium': 1, 'hard': 1}, 'REO-1.A': {'easy': 1, 'medium': 0, 'hard': 0}, 'RHS-1.I': {'easy': 1, 'medium': 0, 'hard': 0}}
2025-04-07 06:12:26,398 - root - INFO - Generating questions for passage: Civil Disobedience
2025-04-07 06:12:26,398 - root - INFO - Passage type: Essay
2025-04-07 06:12:26,400 - root - INFO - This is a non-Draft passage - will use 'reading' type examples only
2025-04-07 06:12:26,400 - root - INFO - Generating question 1/1 for standard STL-1.F, difficulty easy
2025-04-07 06:12:26,400 - root - INFO - Calling Claude API
2025-04-07 06:12:26,401 - root - WARNING - Attempt 1/5 failed with error: No API key provided. Set ANTHROPIC_API_KEY environment variable.
2025-04-07 06:12:26,401 - root - INFO - Retrying in 2.55 seconds
2025-04-07 06:12:28,949 - root - INFO - Calling Claude API
2025-04-07 06:12:28,949 - root - WARNING - Attempt 2/5 failed with error: No API key provided. Set ANTHROPIC_API_KEY environment variable.
2025-04-07 06:12:28,950 - root - INFO - Retrying in 4.24 seconds
